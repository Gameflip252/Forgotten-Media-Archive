<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Forgotten Media Archive</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: Arial, sans-serif; background: #222; color: #eee; margin: 0; padding: 0; }
    header { background: #333; padding: 1em 0; text-align: center; }
    h1 { margin: 0; font-family: 'Georgia', serif; font-size: 2em; }
    .btn-group { display: flex; justify-content: center; gap: 1em; margin: 1.5em 0; }
    .filter-btn {
      background: #444; color: #eee; border: none; padding: 0.7em 2em; border-radius: 6px;
      font-size: 1.1em; cursor: pointer; transition: background 0.2s;
    }
    .filter-btn.active, .filter-btn:hover { background: #8ecae6; color: #222; }
    .media-container { display: flex; flex-wrap: wrap; gap: 1em; justify-content: center; margin: 2em; }
    .media-item { background: #444; padding: 1em; border-radius: 8px; max-width: 300px; text-align: center; }
    .media-item img, .media-item video { max-width: 100%; border-radius: 4px; }
    .media-item a { color: #8ecae6; text-decoration: none; }
    .media-label { font-weight: bold; margin-bottom: 0.5em; display: block; }
  </style>
</head>
<body>
  <header>
    <h1>Forgotten Media Archive</h1>
    <p>
      Upload files to the <code>movies</code>, <code>games</code>, or <code>images</code> folders of the repository.<br>
      The purpose of this website is to keep Forgotten media alive.
    </p>
  </header>
  <div class="btn-group">
    <button class="filter-btn active" data-folder="movies">Movies</button>
    <button class="filter-btn" data-folder="games">Games</button>
    <button class="filter-btn" data-folder="images">Images</button>
  </div>
  <section class="media-container" id="media-container">
    <!-- Media files will be listed here -->
  </section>
  <script>
    // Repo details - customize your repo name here!
    const OWNER = "Gameflip252";
    const REPO = "forgotten-media-archive"; // your repo name

    // Folder map for buttons
    const FOLDER_MAP = {
      "movies": "Movies",
      "games": "Games",
      "images": "Images"
    };

    function getFileType(name) {
      const ext = name.split('.').pop().toLowerCase();
      if (["png", "jpg", "jpeg", "gif", "bmp", "webp"].includes(ext)) return "image";
      if (["mp4", "webm", "ogg", "mov"].includes(ext)) return "video";
      return "other";
    }

    async function fetchMediaFiles(folder) {
      const apiUrl = `https://api.github.com/repos/${OWNER}/${REPO}/contents/${folder}`;
      const resp = await fetch(apiUrl);
      if (!resp.ok) return [];
      const files = await resp.json();
      return files.filter(f => f.type === "file");
    }

    function createMediaItem(file, folder) {
      const type = getFileType(file.name);
      let preview;
      if (type === "image") {
        preview = `<img src="${file.download_url}" alt="${file.name}">`;
      } else if (type === "video") {
        preview = `<video controls src="${file.download_url}" poster="" preload="metadata"></video>`;
      } else {
        preview = `<a href="${file.download_url}" target="_blank">${file.name}</a>`;
      }
      return `<div class="media-item">
        <span class="media-label">${file.name}</span>
        ${preview}
        <div><a href="${file.download_url}" target="_blank">Download</a></div>
      </div>`;
    }

    async function showMedia(folder) {
      const container = document.getElementById("media-container");
      container.innerHTML = "<p>Loading...</p>";
      const files = await fetchMediaFiles(folder);
      if (!files.length) {
        container.innerHTML = `<p>No files in <b>${FOLDER_MAP[folder]}</b> yet!</p>`;
        return;
      }
      container.innerHTML = files.map(f => createMediaItem(f, folder)).join("");
    }

    // Button event listeners
    document.querySelectorAll(".filter-btn").forEach(btn => {
      btn.addEventListener("click", function() {
        document.querySelectorAll(".filter-btn").forEach(b => b.classList.remove("active"));
        btn.classList.add("active");
        showMedia(btn.dataset.folder);
      });
    });

    // Initial load: Movies
    showMedia("movies");
  </script>
</body>
</html>
